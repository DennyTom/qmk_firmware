#include QMK_KEYBOARD_H

// use pyexpander to generate keymap.c:
// python3 expander3.py -f keymap.c.in | cat -s > keymap.c
// the preprocessor code is written to be readable not to produce nice output

enum pseudolayers {
    ALWAYS_ON, QWERTY, NUM, MOV, MOUSE, ASETNIOP, ASETNIOP_123, ASETNIOP_FN
};

// Keyboard states and settings
$include("keyboard.inc")

// Definitions of internal keycodes and the actual QMK layer
$include("layer.inc")

// The chord structure and chord functions (send key, switch pseudolayer, ...)
$include("chord.inc")

// Macros to simplify chord definitions
$include("macros.inc")

// Add all chords
$butterstick_cols("ALWAYS_ON",
    "", "", "", "", "", "", "", "", "",
    "LOCK", "", "", "", "CMD", "", "", "", "",
    "", "", "", "", "", "", "", "", "")

$secret_chord("ALWAYS_ON", "CLEAR",
    "X", "X", "", "", "", "", "", "", "X", "X",
    "X", "X", "", "", "", "", "", "", "X", "X")

$butterstick_rows("QWERTY",
    "Q", "W", "E", "R", "T", "Y", "U", "I", "O", "P",
    "A", "S", "D", "F", "G", "H", "J", "K", "L", ";",
    "Z", "X", "C", "V", "B", "N", "M", ",", ".", "/")

$butterstick_cols("QWERTY",
    "ESC", "MO(MOV)", "TAB", "", "O(KC_RGUI)", "", "INS", "DEL", "BSPC",
    "", "", "", "", "", "", "", "", "ENTER",
    "O(KC_LSFT)", "O(KC_LCTL)", "LALT", "MO(NUM)", "LGUI", "MO(NUM)", "RALT", "O(KC_RCTL)", "O(KC_RSFT)")

$# $butterstick("QWERTY",
$#     "Q", "ESC",  "W", "MO(MOV)", "E", "TAB",  "R", "",        "T", "RGUI", "Y", "",        "U", "INS",  "I", "DEL",  "O", "BSPC",  "P",
$#     "A", "",     "S", "",        "D", "",     "F", "",        "G", "CMD",  "H", "",        "J", "",     "K", "",     "L", "ENTER", ";",
$#     "Z", "LSFT", "X", "LCTL",    "C", "LALT", "V", "MO(NUM)", "B", "LGUI", "N", "O(NUM)", "M", "RALT", ",", "RCTL", ".", "RSFT",  "/")

$# $butterstick("QWERTY",
$#     "Q",       "W",       "E",       "R",       "T",       "Y",       "U",       "I",       "O",       "P",
$#         "ESC",     "MO(MOV)", "TAB",     "",        "RGUI",    "",        "INS",     "DEL",     "BSPC",
$#     "A",       "S",       "D",       "F",       "G",       "H",       "J",       "K",       "L",       ";",
$#         "",        "",        "",        "",        "",        "",        "",        "",        "ENTER",
$#     "Z",       "X",       "C",       "V",       "B",       "N",       "M",       ",",       ".",       "/",
$#         "LSFT",    "LCTL",    "LALT",    "MO(NUM)", "LGUI",    "MO(NUM)", "RALT",    "RCTL",    "RSFT")

$secret_chord("QWERTY", "SPACE",
    "" , "", "", "", "", "", "", "", "", "",
    "X", "", "", "", "", "", "", "", "", "X")

$secret_chord("QWERTY", "MO(MOUSE)",
    "X", "X", "X", "X", "", "", "", "", "", "",
    "" , "" , "" , "" , "", "", "", "", "", "")

$butterstick_rows("NUM",
    "1", "2", "3", "4", "5", "6", "7", "8", "9", "0",
    "F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9", "F10",
    "`", "-", "=", "[", "]", "\\", "\'", "", "F11", "F12")

$butterstick_cols("NUM",
    "ESC", "", "TAB", "", "RGUI", "", "INS", "DEL", "BSPC",
    "", "", "", "", "", "", "", "", "ENTER",
    "LSFT", "LCTL", "LALT", "", "LGUI", "", "RALT", "RCTL", "RSFT")

$secret_chord("NUM", "SPACE",
    "" , "", "", "", "", "", "", "", "", "",
    "X", "", "", "", "", "", "", "", "", "X")

$butterstick_rows("MOV",
    "", "", "", "", "", "", "HOME", "UP", "END", "PGUP",
    "", "", "", "", "", "", "", "", "", "",
    "", "", "LSFT", "LCTL", "LALT", "LGUI", "LEFT", "DOWN", "RIGHT", "PGDN")

$butterstick_rows("MOUSE",
    "", "", "", "", "", "", "MS_BTN1", "MS_UP", "MS_BTN2", "MS_WH_DOWN",
    "", "", "", "", "", "", "", "", "", "",
    "", "", "LSFT", "LCTL", "LALT", "LGUI", "MS_LEFT", "MS_DOWN", "MS_RIGHT", "MS_WH_DOWN")

$secret_chord("QWERTY", "DF(ASETNIOP)",
    "X", "", "", "", "", "", "", "", "", "X",
    "X", "", "", "", "", "", "", "", "", "X")

$secret_chord("ASETNIOP", "DF(QWERTY)",
    "X", "", "", "", "", "", "", "", "", "X",
    "X", "", "", "", "", "", "", "", "", "X")

$secret_chord("ASETNIOP", "MO(ASETNIOP_FN)",
    "", "", "", "",  "", "", "",  "", "", "",
    "", "", "", "X", "", "", "X", "", "", "")

$asetniop_layer("ASETNIOP",
    "A", "S", "E", "T", "N", "I", "O", "P",
      "W", "D", "R", "B", "H", "L", ";",
        "X", "C", "Y", "V", "U", "",
          "F", "J", ",", "G", "M",
            "Q", "K", "-", "BSPC",
              "Z", ".", "'",
                "[", "]",
                  "/")

$butterstick_rows("ASETNIOP",
    "", "", "", "",     "ESC",  "DEL",  "", "", "", "",
    "", "", "", "",     "",     "",     "", "", "", "",
    "", "", "", "LSFT", "LCTL", "LALT", "KL(KC_SPACE, ASETNIOP_123)", "", "", "")

$butterstick_cols("ASETNIOP",
    "", "", "", "", "LGUI", "", "", "", "",
    "", "", "", "", "",     "", "", "", "",
    "", "", "", "", "",     "", "", "", "")

$asetniop_layer("ASETNIOP_123",
    "1", "2", "3", "4", "7", "8", "9", "0",
      "", "", "5", "=", "6", "\\", ";",
        "", "", "", "", "", "",
          "", "", "", "", "",
            "", "", "", "BSPC",
              "", "", "",
                "", "",
                  "")

$butterstick_rows("ASETNIOP_123",
    "", "", "", "",     "ESC",  "DEL",  "", "", "", "",
    "", "", "", "",     "",     "",     "", "", "", "",
    "", "", "", "LSFT", "LCTL", "LALT", "", "", "", "")

$butterstick_cols("ASETNIOP_123",
    "", "", "", "", "LGUI", "", "", "", "",
    "", "", "", "", "",     "", "", "", "",
    "", "", "", "", "",     "", "", "", "")

$asetniop_layer("ASETNIOP_FN",
    "HOME", "PGDN", "PGUP", "END", "LEFT", "DOWN", "UP", "RIGHT",
      "F1", "F2", "F3", "F4", "F5", "F6", "F7",
        "F10", "", "", "", "", "F8",
          "F11", "", "", "", "F9",
            "F12", "", "", "BSPC",
              "", "", "",
                "", "",
                  "")

$butterstick_rows("ASETNIOP_FN",
    "", "", "", "",     "ESC",  "DEL",  "", "", "", "",
    "", "", "", "",     "",     "",     "", "", "", "",
    "", "", "", "LSFT", "LCTL", "LALT", "", "", "", "")

$butterstick_cols("ASETNIOP_FN",
    "", "", "", "", "LGUI", "", "", "", "",
    "", "", "", "", "",     "", "", "", "",
    "", "", "", "", "",     "", "", "", "")


// Register all chords, load chording logic
$include("chording_engine.inc")